# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –¥–æ–∫–µ—Ä-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–∫–µ—Ä–∞

–§—Ä–∞–≥–º–µ–Ω—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤–∑—è—Ç [–æ—Ç—Å—é–¥–∞](https://gitlab.com/Lipovsky/concurrency-course/-/blob/master/docs/docker.md). <br />
–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ Ubuntu 22.04. <br />
–û–∂–∏–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –Ω–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö Linux –∏ macOS.

### Linux

```shell
sudo apt install -y docker docker-compose bash
sudo groupadd docker
sudo usermod -aG docker $USER
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–∞—à–∏–Ω—É).

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –î–æ–∫–µ—Ä —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```shell
docker run hello-world
```

### OS X

–°–∫–∞—á–∞–π—Ç–µ, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ [Docker Desktop](https://docs.docker.com/desktop/install/mac-install/).

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ç—É–ª–±–∞—Ä–µ –ø–æ—è–≤–∏–ª—Å—è –∑–Ω–∞—á–æ–∫ —Å –∫–∏—Ç–æ–º (üê≥, —Ç–æ–ª—å–∫–æ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏).

### –ü—Ä–æ–±–ª–µ–º–∞ apt –∏ snap

TODO: –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ.

## –î–∞–ª—å–Ω–µ–π—à–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–∞–ª—å–Ω–µ–π—à–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–æ–≤.

| –°–∫—Ä–∏–ø—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------:|-----------|
| create.sh | –°–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –µ–≥–æ –æ–±—Ä–∞–∑, –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç |
| remove.sh | –£–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –µ–≥–æ –æ–±—Ä–∞–∑, —Ç–æ –µ—Å—Ç—å —á–∏—Å—Ç–∏—Ç –≤—Å—ë, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω |
| start.sh | –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –µ–≥–æ –æ–±–æ–ª–æ—á–∫—É `/bin/bash` —Å –ø—Ä–∞–≤–∞–º–∏ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| start\_as\_root.sh | –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –µ–≥–æ –æ–±–æ–ª–æ—á–∫—É `/bin/bash` —Å –ø—Ä–∞–≤–∞–º–∏ `root` |
| stop.sh | –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |

–°–∫—Ä–∏–ø—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å, –Ω–∞—Ö–æ–¥—è—Å—å –≤ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –ø–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–º—É –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–º—É –ø—É—Ç–∏,
–∏—Ö —Ä–∞–±–æ—Ç–∞ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —Ç–æ–ª—å–∫–æ –æ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Å–∞–º–∏ —Å–∫—Ä–∏–ø—Ç—ã.

–¢–æ –µ—Å—Ç—å –æ–∂–∏–¥–∞–µ–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–æ–∫–µ—Ä-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º —É—Å—Ç—Ä–æ–µ–Ω–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
- –û–¥–∏–Ω —Ä–∞–∑ –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç create.sh
- –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –æ–±—Ä–∞–∑ –Ω–µ —É–¥–∞–ª—è–ª–∏—Å—å, –±–æ–ª–µ–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –Ω–µ –Ω—É–∂–Ω–æ
- –ß—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç start.sh
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –≤—ã–π—Ç–∏ –∏–∑ –æ–±–æ–ª–æ—á–∫–∏ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã exit
- –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ stop.sh, —á—Ç–æ–±—ã –æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–ª –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

–í —Å–ª—É—á–∞–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –¥–æ–∫–µ—Ä-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –º–æ–∂–Ω–æ:
- –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ stop.sh
- —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ remove.sh
- —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–Ω–æ–≤–æ —á–µ—Ä–µ–∑ create.sh

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```shell
docker image ls
```
–í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—Ä–∞–∑–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. <br />
–û–±—Ä–∞–∑ –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ `caos_test_docker`.
```shell
docker ps -a
```
–í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –≤ —Ç–æ–º —á–∏—Å–ª–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö. <br />
–î–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –∏–º–µ—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ `caos_test_docker`.
