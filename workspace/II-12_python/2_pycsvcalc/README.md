# 12-2: Python: Pycsvcalc

## Условие задачи

Программе на стандартный поток вывода подается текст: таблица в формате CSV,
со следующими соглашениями:
- разделитель между строками - \n
- разделитель между столбцами - ;
- числа могут быть целыми в десятичной записи или вещественными в обычной записи с точкой
- строки обязательно заключаются в двойные кавычки
- формулы начинаются с символа =
- могут быть пустые строки

Используемые в таблице формулы - синтаксически корректные с точки зрения языка Python. В формулах,
кроме константных значений, могут присутствовать ссылки на другие ячейки таблицы, имена которых
аналогичны Excel/Calc/Planmaker/Google Sheets.

Рекурсивные ссылки между ячейками не допускаются.

Необходимо пересчитать значения таблицы таким образом, чтобы все формулы заменить
на полученные значения.

Максимальное количество строк в таблице - 9, количество столбцов - 26, таким образом диапазон
допустимых имен от A1 до Z9.

Полученную итоговую таблицу необходимо вывести на стандартный поток вывода.

Пример - исходная таблица:
```
1;1;3;4
=D2;=A1+B1;;=B2*C1
```

После преобразования должна получиться таблица со значениями:
```
1;1;3;4
6;2;;6
```

## Комментарий к тестам

_Рекурсивные ссылки между ячейками не допускаются._ <br />
Полагаю, имеется в виду отсутствие циклов в ориентированном графе ссылок между ячейками.

Тестами гарантируется, что **\n** и **;** используются только в качестве разделителей
между ячейками, не могут использоваться как символ внутри ячейки, например, внутри
строки внутри ячейки.

Практически все тесты отнесены в уровень `run_hard.sh`, в уровне `run.sh`
только простые тесты, похожие на пример из условия.

Компиляция файла с программой производится с помощью `cmake`,
для этого в директории с задачей есть `CMakeLists.txt`.
Отчёт о сборке выводится в файл `tmp_files/cmake_and_make_output.txt`.
Если программа скомпилирована успешно, то она находится как `tmp_files/pycsvcalc-bin`.

## Краткое описание работы тестов

При тестировании компилируется программа.
Для этого с помощью `CMakeLists.txt` производится сборка в `tmp_files/build`,
после чего собранная программа выносится как `tmp_files/pycsvcalc-bin`.
Если программа не собрана, то запуски программы не производятся.

Затем производятся запуски программы на нескольких входах.
Первые три относятся к уровню `run.sh`, остальные к уровню `run_hard.sh`.
Все входы находятся в директории `test_files/input`.
В следующей таблице дано их краткое описание.

| Input | Description |
|------:|-------------|
| `test_1_int.csv` | Тест из примера, операции с целыми числами |
| `test_2_float.csv` | Тест на основе примера, используются типы `int` и `float` |
| `test_3_str.csv` | Тест на основе примера, используются строки |
| `test_4_long_recursion.csv` | Длинная цепочка ссылок, используется таблица от A1 до Z9 |
| `test_5_two_chains.csv` | Две независимые цепочки ссылок |
| `test_6_types.csv` | Операции между разными типами |
| `test_7_letter_case.csv` | Ссылки между ячейками в разных регистрах |
| `test_8_operation_order.csv` | Проверка соблюдения порядка операций |
| `test_9_void_cell_link.csv` | Ссылка на пустую ячейку |
| `test_10_not_links_in_str.csv` | "Мнимая" ссылка на ячейку как часть строки |
